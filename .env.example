# =============================================================================
# EvalPoint Educational Platform - Environment Configuration
# Copy this file to .env and configure for your environment
# =============================================================================

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
NODE_ENV=production
PLATFORM_NAME=EvalPoint
PLATFORM_URL=https://evalpoint.com

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
BACKEND_PORT=5000
HTTP_PORT=80
HTTPS_PORT=443

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB Connection
MONGODB_PORT=27017
MONGODB_DATABASE=evalpoint
MONGODB_USERNAME=evalpoint_user
MONGODB_PASSWORD=your_secure_mongodb_password_here

# MongoDB Root Admin (for initialization)
MONGODB_ROOT_USERNAME=admin
MONGODB_ROOT_PASSWORD=your_secure_root_password_here

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration
JWT_SECRET=your_very_secure_jwt_secret_key_here_minimum_32_characters
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_very_secure_refresh_secret_key_here
JWT_REFRESH_EXPIRES_IN=30d

# Password Hashing
BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# REDIS CACHE CONFIGURATION (Optional)
# =============================================================================
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_here

# =============================================================================
# EDUCATIONAL COMPLIANCE SETTINGS
# =============================================================================
# Children's Online Privacy Protection Act
COPPA_COMPLIANCE=true

# Family Educational Rights and Privacy Act
FERPA_COMPLIANCE=true

# General Data Protection Regulation
GDPR_COMPLIANCE=true

# =============================================================================
# EMAIL CONFIGURATION (Future Enhancement)
# =============================================================================
# SMTP Configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password

# Email Templates
EMAIL_FROM_NAME="EvalPoint Educational Platform"
EMAIL_FROM_ADDRESS=noreply@evalpoint.com

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================
# Email Storage Path (for development email storage feature)
EMAIL_STORAGE_PATH=/app/data/emails

# Upload Limits
MAX_FILE_SIZE=10485760
MAX_FILES_PER_REQUEST=5

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log Level (error, warn, info, http, verbose, debug, silly)
LOG_LEVEL=info

# Log Files
LOG_FILE_PATH=/app/logs/backend.log
ERROR_LOG_FILE_PATH=/app/logs/error.log

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed Origins (comma-separated for production)
ALLOWED_ORIGINS=https://evalpoint.com,https://app.evalpoint.com

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================
# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true

# Metrics Collection
METRICS_ENABLED=false
METRICS_PORT=9090

# =============================================================================
# DEVELOPMENT SETTINGS (Development Only)
# =============================================================================
# Debug Configuration
DEBUG_ENABLED=false
DEBUG_NAMESPACE=evalpoint:*

# Development Database
DEV_MONGODB_URI=mongodb://dev_user:devpassword123@localhost:27017/evalpoint_dev

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
# Test Database
TEST_MONGODB_URI=mongodb://test_user:testpassword123@localhost:27018/evalpoint_test

# Test JWT Secret
TEST_JWT_SECRET=test_jwt_secret_for_testing_only

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
# Docker Image Tags
BACKEND_IMAGE_TAG=latest
MONGODB_IMAGE_TAG=7.0.4
REDIS_IMAGE_TAG=7.2.3-alpine
NGINX_IMAGE_TAG=1.25.3-alpine

# =============================================================================
# EDUCATIONAL PLATFORM SPECIFIC SETTINGS
# =============================================================================
# Student Data Protection
STUDENT_DATA_ENCRYPTION=true
STUDENT_DATA_RETENTION_DAYS=2555  # 7 years as per educational standards

# Accessibility Features
ACCESSIBILITY_ENABLED=true
ACCESSIBILITY_STANDARDS=WCAG2.1-AA

# Content Security
CONTENT_FILTERING_ENABLED=true
INAPPROPRIATE_CONTENT_DETECTION=true

# Learning Analytics
LEARNING_ANALYTICS_ENABLED=true
ANONYMOUS_ANALYTICS_ONLY=true

# =============================================================================
# THIRD-PARTY INTEGRATIONS (Optional)
# =============================================================================
# Google OAuth (Optional)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Microsoft OAuth (Optional)
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Database Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=evalpoint-backups
BACKUP_S3_REGION=us-east-1

# =============================================================================
# SECURITY HEADERS AND SETTINGS
# =============================================================================
# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=/api/security/csp-report

# HTTP Security Headers
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# Cookie Settings
COOKIE_SECURE=true
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=strict

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Connection Pool Settings
DB_CONNECTION_POOL_MIN=5
DB_CONNECTION_POOL_MAX=20

# Cache Settings
CACHE_TTL=3600
CACHE_MAX_KEYS=10000

# Request Timeout
REQUEST_TIMEOUT=30000